# Description:  A ncurses based file manager with vi like keybindings
# URL:          http://vifm.info
# Maintainer:   Alexandr Savca, alexandr dot savca89 at gmail dot com
# Depends on:   ncurses

name=vifm
version=0.10.1
release=3
source=(https://github.com/$name/$name/archive/v$version/$name-v$version.tar.gz)

build() {
	cd $name-$version

	./configure \
		--prefix=/usr   \
		--disable-nls

	make
	make DESTDIR=$PKG install

	# bash completion
	if ! pkginfo -i | grep '^bash-completion '; then
		rm -rf $PKG/usr/share/bash-completion
	fi

	# zsh completion
	if ! pkginfo -i | grep '^zsh '; then
		rm -rf $PKG/usr/share/zsh
	fi

	# remove docs & osx-specific
	rm -rf $PKG/usr/share/vifm/vim-doc
	rm -rf $PKG/usr/share/vifm/vim/doc
	rm -rf $PKG/usr/share/vifm/vifm-help.txt
	rm -rf $PKG/usr/share/vifm/vifmrc-osx
	rm -rf $PKG/usr/share/vifm/vifm-media-osx
	rm -rf $PKG/usr/share/doc
}
